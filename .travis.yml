sudo: false

language: cpp

compiler:
  - gcc 
  - clang

install:
  - if [ "$CXX" == "clang++" ]; then export CXX="clang++-3.6"; fi

before_script:
  - autoreconf -i

script: ./configure && make -j4 && make -j4 check

addons:
  apt:
    sources:
      # for gcc5
      - 'ppa:ubuntu-toolchain-r/test'
      # for clang
      - 'ppa:h-rayflood/llvm-upper'
      # for vrna
      - 'ppa:j-4/vienna-rna'
    packages:
      - viennarna
      - viennarna-dev
      - help2man
      - libgsl0-dev
      # clang 3.6; only needed if [ "$CXX" == "clang++" ]
      - clang-3.6
